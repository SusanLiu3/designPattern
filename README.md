## 设计模式比较及练习
### 什么是设计模式及遵循的原则
- 设计模式：一种简单的解决方案；主要解决软件开发过程中遇到的问题。
- 遵循的原则：找出程序中变化的部分，然后将其封装起来。
#### 单例模式
- 概述：确保一个类只有一个实例，在JavaScript（ES5）中没有类这个说法，创建对象的方法很简单，即{}
- 惰性单例模式：在需要的时候创建单例（参照最后一个实现）
- 单例模式思想：创建对象和管理单例的实现分布在两个方法中
- 用到JavaScript特性：闭包和高阶函数
#### 策略模式
- 概述：定义一些算法，封装成策略类；当客户对context发起请求的时候，context总是将这些请求
  委托给这些策略对象中的某一个进行计算
- 优点：
    - 利用组合，委托，多态等思想，可以避免多重条件选择语句
    - 对开放-封闭规则的完美支持，将算法封装在策略类中，便于扩展和理解
    - 复用性
    - 利用组合和委托来让 Context 拥有执行算法的能力，这也是继承的一种更轻便的替代方案
- 缺点：
    - 会在程序中增加许多策略类或策略对象
    - 需要提前了解所有的策略
#### 迭代器模式
- 概述:提供一种顺序访问聚合对象的各个元素，同时又不需要暴露该对象的内部表示。
- 类别:内部迭代器和外部迭代器；
- 内部迭代器：已经定义好了迭代规则，只需要一次调用即可
- 外部迭代器：必须显示的请求下一个元素

#### 发布订阅模式（观察者模式）
- 概述：定义对象之间的一对多关系，当一个对象的状态发送改变，所有依赖它的对象都将得到通知；
- 优点:
    - 取代对象之间硬编码的通信机制；对象之间松耦合的联系在一起；
    - 应用于异步编程，替代传递回调函数的一种方案；
    - 时间和对象上的解耦；
- 缺点
    - 内存的消耗，首先创建订阅者需要内存，其次当订阅者订阅一个消息时，也许消息最后都未发生，订阅者一直存在
    - 发布订阅虽然弱化了对象之间的联系，如果过度，这样会导致对象之间的关系被深埋，导致程序难以跟踪
- 实现步骤：
    - 指定发布者
    - 给发布者添加缓存列表，用于存放回调函数以便通知订阅者
    - 最后发布消息的时候，发布者会遍历缓存列表，依次触发里面的订阅者回调函数